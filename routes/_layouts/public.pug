extends base

include /_mixins/env
include /_mixins/flag
include /_mixins/styles

append head
	title #{title} â€“ Nathan Knowler
	if description
		meta(name="description" content=description)
	meta(name="author" content="Nathan Knowler")
	base(href=SITE_URL)
	if canonical
		link(rel="canonical" href=canonical)
	meta(name="webmention" content=new URL("/webmention", SITE_URL))
	link(rel="stylesheet" href="/main.css")
	link(rel="author" href="/about" title="About the author")
	link(rel="alternate" href="/feed.xml" type="application/rss+xml" title="RSS")
	+styles

include /_mixins/nav-list
include /_mixins/nav-link
include /_mixins/site-header

block body
	a(href=`${currentPath}#content`).skip-link.visually-hidden Skip to content
	+site-header
	main#content
		block content
	footer
		mixin license-link
			a(rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/").
				CC BY-NC-SA 4.0 license
		p #[a(href="https://github.com/knowler/knowler.dev") Code] and content by Nathan Knowler.
		p Except if noted otherwise, content on this website is licensed under a #[+license-link].
		+nav-list("secondary")
			li: +nav-link(href="/accessibility") Accessibility
			li: +nav-link(href="/privacy") Privacy
			li: +nav-link(href="/webmention") Webmention
			li: a(href="/feed.xml") RSS
			li: +nav-link(href="/flags") Feature Flags
